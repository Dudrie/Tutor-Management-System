<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<title data-react-helmet="true">Configuration | Tutor-Management-System</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Configuration | Tutor-Management-System"><meta data-react-helmet="true" name="description" content="Structure of Directory"><meta data-react-helmet="true" property="og:description" content="Structure of Directory"><meta data-react-helmet="true" property="og:url" content="https://dudrie.github.io//Tutor-Management-System/docs/setup/configuration"><link data-react-helmet="true" rel="shortcut icon" href="/Tutor-Management-System/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://dudrie.github.io//Tutor-Management-System/docs/setup/configuration"><link rel="stylesheet" href="/Tutor-Management-System/styles.61b29879.css">
<link rel="preload" href="/Tutor-Management-System/styles.7003fae8.js" as="script">
<link rel="preload" href="/Tutor-Management-System/runtime~main.0fb45259.js" as="script">
<link rel="preload" href="/Tutor-Management-System/main.edefcc6e.js" as="script">
<link rel="preload" href="/Tutor-Management-System/1.b9485c24.js" as="script">
<link rel="preload" href="/Tutor-Management-System/2.f9e37415.js" as="script">
<link rel="preload" href="/Tutor-Management-System/30.3e8840d6.js" as="script">
<link rel="preload" href="/Tutor-Management-System/31.f7ea2353.js" as="script">
<link rel="preload" href="/Tutor-Management-System/f976f453.f2b7835e.js" as="script">
<link rel="preload" href="/Tutor-Management-System/17896441.f495be07.js" as="script">
<link rel="preload" href="/Tutor-Management-System/039e703a.06fc9ae2.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Tutor-Management-System/"><img class="navbar__logo" src="/Tutor-Management-System/img/logo.svg" alt="TMS Documentation Logo"><strong class="navbar__title">TMS Documentation</strong></a><a class="navbar__item navbar__link" href="/Tutor-Management-System/docs/handbook/introduction">Handbook</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Tutor-Management-System/docs/setup/installation">Setup</a><a class="navbar__item navbar__link" href="/Tutor-Management-System/docs/dev/setup-env">Development</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Dudrie/Tutor-Management-System" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Tutor-Management-System/"><img class="navbar__logo" src="/Tutor-Management-System/img/logo.svg" alt="TMS Documentation Logo"><strong class="navbar__title">TMS Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/Tutor-Management-System/docs/handbook/introduction">Handbook</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/Tutor-Management-System/docs/setup/installation">Setup</a></li><li class="menu__list-item"><a class="menu__link" href="/Tutor-Management-System/docs/dev/setup-env">Development</a></li><li class="menu__list-item"><a href="https://github.com/Dudrie/Tutor-Management-System" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/Tutor-Management-System/docs/setup/installation">Installation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/Tutor-Management-System/docs/setup/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/Tutor-Management-System/docs/setup/update">Update</a></li><li class="menu__list-item"><a class="menu__link" href="/Tutor-Management-System/docs/setup/nginx">Nginx</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Configuration</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="structure-of-directory"></a>Structure of Directory<a aria-hidden="true" tabindex="-1" class="hash-link" href="#structure-of-directory" title="Direct link to heading">#</a></h2><p>Within the <code>tms/config/</code> directory containing the configuration files the following items have to be present:</p><ul><li><code>production.yml</code>: YAML file containing the general configuration for the server.</li><li><code>templates/</code>: Directory containing the <a href="https://pugjs.org/" target="_blank" rel="noopener noreferrer">Pug</a> template files (see below).</li></ul><p>Those files are provided through a docker volume. See the <a href="/Tutor-Management-System/docs/setup/installation">installation guide</a> for more information.</p><p>Every <a href="https://github.com/Dudrie/Tutor-Management-System/releases" target="_blank" rel="noopener noreferrer">release</a> contains either a link to the current sample configuration or a sample configuration itself. If it contains the later the server configuration might need an update according to the <em>Configuration</em> section of the release.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="options"></a>Options<a aria-hidden="true" tabindex="-1" class="hash-link" href="#options" title="Direct link to heading">#</a></h2><p>The configuration object is of type <code>ApplicationConfiguration</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="applicationconfiguration"></a><code>ApplicationConfiguration</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#applicationconfiguration" title="Direct link to heading">#</a></h3><table><thead><tr><th>Option</th><th>Required / Default</th><th>Description</th></tr></thead><tbody><tr><td><code>database</code></td><td><strong>Required</strong></td><td><code>DatabaseConfiguration</code> - Configuration of the database. See below for more information.</td></tr><tr><td><code>sessionTimeout</code></td><td><em>Default: 120</em></td><td><code>Number</code> - The time of inactivity in <strong>minutes</strong> after which the session of the user times out and he/she must log in again.</td></tr><tr><td><code>prefix</code></td><td><em>(optional, no default)</em></td><td><code>String</code> - Prefix of the root path the application is hosted on. If the application is hosted on the root path this setting must be omitted. Otherwise it has to be set to the prefix (ie. for the path <code>https://example.org/foo</code> this setting has to be set to <code>foo</code>)</td></tr><tr><td><code>handbookUrl</code></td><td><em>(optional, no default)</em></td><td><code>String</code> - URL to the handbook of the TMS. You should only have to change this if you want to provide your own version of the handbook.</td></tr><tr><td><code>defaultSettings</code></td><td><em>(optional, defaults see &quot;Settings&quot; page)</em></td><td>Settings to initialize parts of the server with. Those settings can also be configured through the client later on. See <a href="/Tutor-Management-System/docs/handbook/settings">Settings</a> for more information.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="databaseconfiguration"></a><code>DatabaseConfiguration</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#databaseconfiguration" title="Direct link to heading">#</a></h3><p>The following table contains the options available for the database configuration, a short description and their default value (if they are optional).</p><table><thead><tr><th>Option</th><th>Required / Default</th><th>Description</th></tr></thead><tbody><tr><td><code>databaseURL</code></td><td><strong>Required</strong></td><td><code>String</code> - The URL which resolves to the database and the desired collection. Must be a MongoDB URL. <em>Please note: Databases other than MongoDB might work if they are compatible to mongoose. However they are not tested and officially supported.</em></td></tr><tr><td><code>maxRetries</code></td><td><em>Default: 2</em></td><td><code>Number</code> - Configures how often the server tries to establish a connection to the database while <strong>starting</strong> the server. If there is no connection after the maximum amount of retries the server is stopped with an error code. <em>Please note: Any try to connect can take up to 30s.</em></td></tr><tr><td><code>config</code></td><td><em>Default: <code>{useNewUrlParser: true, useUnifiedTopology: true}</code></em></td><td><code>ConnectionOptions</code> - The <code>auth</code> property will not be respected. To set authentication details one must use the corresponding <a href="#environment-variables">environment variables</a> Further configuration options provided to the MongoDB connection. For more information see the <a href="https://mongoosejs.com/docs/connections.html" target="_blank" rel="noopener noreferrer">mongoose documentation</a>.</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="environment-variables"></a>Environment Variables<a aria-hidden="true" tabindex="-1" class="hash-link" href="#environment-variables" title="Direct link to heading">#</a></h2><p>All of the following environment variables are <strong>required</strong> unless stated otherwise.</p><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>TMS_MONGODB_USER</code></td><td><code>String</code> - Username to log into the mongoDB.</td></tr><tr><td><code>TMS_MONGODB_PW</code></td><td><code>String</code> - Password to log into the mongoDB.</td></tr><tr><td><code>TMS_SECRET</code></td><td><code>String</code> - Secret to encrypt sensitive fields in the documents in the DB (ie names of users, ...). This secret should be created like a <em>secure password</em> (no easy to guess words, ...).</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pug-templates"></a>Pug Templates<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pug-templates" title="Direct link to heading">#</a></h2><p>The Tutor-Management-System can generate various PDFs. These can be configured using the following templates. The templates must be inside an <code>templates/</code> folder inside the <code>config/</code> folder. All templates use the <a href="https://pugjs.org/api/getting-started.html" target="_blank" rel="noopener noreferrer">pug template engine</a> and variables which will get substituted by the corresponding value on PDF generation. Every template section contains a description on it&#x27;s usage, the variables used inside and an example. Please note that the templates do NOT need a <code>html</code>, <code>body</code> or <code>head</code> because they will be inserted into a body during PDF generation.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Please note that <strong>all template files</strong> must be present at the start of the server.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="attendance-template"></a>Attendance Template<a aria-hidden="true" tabindex="-1" class="hash-link" href="#attendance-template" title="Direct link to heading">#</a></h3><p><strong>Filename: <code>attendance.pug</code></strong></p><p>This template gets used on the creation of a PDF containing a list of students of a tutorial. On this list students can leave their signature if they are present.</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1w39 tabs__item--active" style="outline:none">Description</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">Example</li></ul><div role="tabpanel" class="margin-vert--md"><div><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>tutorialSlot</code></td><td><code>String</code> - The slot of the tutorial which belongs to the sheet.</td></tr><tr><td><code>date</code></td><td><code>DateTime</code> - Date to which the attendance list belongs. Takes in the format after a comma. For more information on the available functions see the <a href="https://moment.github.io/luxon/docs/class/src/datetime.js~DateTime.html" target="_blank" rel="noopener noreferrer">luxon documentation</a></td></tr><tr><td><code>tutorName</code></td><td><code>String</code> - Name of the tutor in the format <code>&lt;lastname&gt;, &lt;firstname&gt;</code>.</td></tr><tr><td><code>students</code></td><td><code>{ name: string }[]</code> - Array containing objects of which each holds the name of one student.</td></tr></tbody></table></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="credentials-template"></a>Credentials Template<a aria-hidden="true" tabindex="-1" class="hash-link" href="#credentials-template" title="Direct link to heading">#</a></h3><p><strong>Filename: <code>credentials.pug</code></strong></p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1w39 tabs__item--active" style="outline:none">Description</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">Example</li></ul><div role="tabpanel" class="margin-vert--md"><div><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>credentials</code></td><td><code>{ name: string; username: string; password: string }[]</code> - Array containing objects which hold information about the user.</td></tr></tbody></table></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mail-template"></a>Mail template<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mail-template" title="Direct link to heading">#</a></h3><p><strong>Filename: <code>mail.pug</code></strong></p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1w39 tabs__item--active" style="outline:none">Description</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">Example</li></ul><div role="tabpanel" class="margin-vert--md"><div><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>String</code> - Name of the user which gets the email.</td></tr><tr><td><code>username</code></td><td><code>String</code> - Username of the user which gets the email.</td></tr><tr><td><code>password</code></td><td><code>String</code> - Password of the user which gets the email.</td></tr></tbody></table></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="scheinexam-results-template"></a>Scheinexam Results Template<a aria-hidden="true" tabindex="-1" class="hash-link" href="#scheinexam-results-template" title="Direct link to heading">#</a></h3><p><strong>Filename: <code>scheinexam.pug</code></strong></p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1w39 tabs__item--active" style="outline:none">Description</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">Example</li></ul><div role="tabpanel" class="margin-vert--md"><div><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>scheinExamNo</code></td><td><code>Number</code> - Number of the Scheinexam of this PDF.</td></tr><tr><td><code>statuses</code></td><td><code>{ matriculationNo: string; state: PassedState }[]</code> - Array containing the statuses of each student (with matriculation number) for the exam of the generated PDF. <code>PassedState</code> can be one of the following values: &quot;passed&quot;, &quot;notPassed&quot;, &quot;notAttended&quot;</td></tr></tbody></table></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="scheinstatus-results-template"></a>Scheinstatus Results Template<a aria-hidden="true" tabindex="-1" class="hash-link" href="#scheinstatus-results-template" title="Direct link to heading">#</a></h3><p><strong>Filename: <code>scheinstatus.pug</code></strong></p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1w39 tabs__item--active" style="outline:none">Description</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">Example</li></ul><div role="tabpanel" class="margin-vert--md"><div><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>statuses</code></td><td><code>{ matriculationNo: string; state: PassedState }[]</code> - Array containing the Schein statuses of each student (with matriculation number). PassedState can be one of the following values: &quot;passed&quot;, &quot;notPassed&quot;</td></tr></tbody></table></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Dudrie/Tutor-Management-System/edit/main/docs/docs/setup/configuration.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Tutor-Management-System/docs/setup/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Installation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Tutor-Management-System/docs/setup/update"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Update Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#structure-of-directory" class="table-of-contents__link">Structure of Directory</a></li><li><a href="#options" class="table-of-contents__link">Options</a><ul><li><a href="#applicationconfiguration" class="table-of-contents__link"><code>ApplicationConfiguration</code></a></li><li><a href="#databaseconfiguration" class="table-of-contents__link"><code>DatabaseConfiguration</code></a></li></ul></li><li><a href="#environment-variables" class="table-of-contents__link">Environment Variables</a></li><li><a href="#pug-templates" class="table-of-contents__link">Pug Templates</a><ul><li><a href="#attendance-template" class="table-of-contents__link">Attendance Template</a></li><li><a href="#credentials-template" class="table-of-contents__link">Credentials Template</a></li><li><a href="#mail-template" class="table-of-contents__link">Mail template</a></li><li><a href="#scheinexam-results-template" class="table-of-contents__link">Scheinexam Results Template</a></li><li><a href="#scheinstatus-results-template" class="table-of-contents__link">Scheinstatus Results Template</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright Â© 2020. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Tutor-Management-System/styles.7003fae8.js"></script>
<script src="/Tutor-Management-System/runtime~main.0fb45259.js"></script>
<script src="/Tutor-Management-System/main.edefcc6e.js"></script>
<script src="/Tutor-Management-System/1.b9485c24.js"></script>
<script src="/Tutor-Management-System/2.f9e37415.js"></script>
<script src="/Tutor-Management-System/30.3e8840d6.js"></script>
<script src="/Tutor-Management-System/31.f7ea2353.js"></script>
<script src="/Tutor-Management-System/f976f453.f2b7835e.js"></script>
<script src="/Tutor-Management-System/17896441.f495be07.js"></script>
<script src="/Tutor-Management-System/039e703a.06fc9ae2.js"></script>
</body>
</html>